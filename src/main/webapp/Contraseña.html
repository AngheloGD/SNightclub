// Función para eliminar un alumno
    window.eliminarAlumno = function (codigo) {
        if (confirm("¿Estás seguro de que deseas eliminar este alumno?")) {
            // Realizar solicitud AJAX para eliminar el alumno
            $.ajax({
                type: 'POST',
                url: 'alumnocrub?tipo=4',
                data: {
                    codigo: codigo
                },
                success: function (data) {
                    // Manejar la respuesta del servidor (puede incluir un mensaje de éxito)
                    console.log(data);
                    alert("Alumno Eliminado Correctamente");

                    // Recargar los datos en el DataTable
                    dataTable.ajax.reload();
                },
                error: function (error) {
                    // Manejar errores
                    console.error(error);
                    alert("Error al Eliminar Alumno");
                }
            });
        }
    };

// Función para editar un alumno
    window.editarAlumno = function (codigo) {
        // Obtener la fila correspondiente al código
        let fila = dataTable.rows().data().toArray().find(row => row.codiAlum === codigo);

        if (fila) {
            // Llenar los campos de entrada con los datos de la fila
            $("#codiAlum").val(fila.codiAlum);
            $("#appaAlum").val(fila.appaAlum);
            $("#apmaAlum").val(fila.apmaAlum);
            $("#nombAlum").val(fila.nombAlum);

            // Mostrar la sección de entrada
            $("#seccionEntrada").show();

        } else {
            console.error("No se pudo encontrar la fila correspondiente al código: " + codigo);
        }
    };


// Función para guardar los cambios en la edición
    window.guardarCambios = function () {
        // Obtener valores del formulario
        let codiAlum = $("#codiAlum").val();
        let appaAlum = $("#appaAlum").val();
        let apmaAlum = $("#apmaAlum").val();
        let nombAlum = $("#nombAlum").val();

        // Validar que todos los campos estén completados
        if (!codiAlum || !appaAlum || !apmaAlum || !nombAlum) {
            alert("Por favor, complete todos los campos antes de guardar.");
            return;
        }

        // Realizar solicitud AJAX para editar el alumno
        $.ajax({
            type: 'POST',
            url: 'alumnocrub?tipo=3',
            data: {
                codigo: codiAlum,
                nuevoCodiAlum: codiAlum,
                nuevoAppaAlum: appaAlum,
                nuevoApmaAlum: apmaAlum,
                nuevoNombAlum: nombAlum
            },
            success: function (data) {
                // Manejar la respuesta del servidor (puede incluir un mensaje de éxito)
                console.log(data);
                alert("Alumno Editado Correctamente");

                // Borrar los valores de los campos de entrada
                $("#codiAlum, #appaAlum, #apmaAlum, #nombAlum").val('');

                // Recargar los datos en el DataTable
                dataTable.ajax.reload();



                // Mostrar el botón de "Agregar Alumno"
                $("#btnAgregar").show();
            },
            error: function (error) {
                console.error(error);
                alert("Error al Editar Alumno: " + error.responseText);
            }
        });
    };


    window.cancelarAgregar = function () {
        // Ocultar la sección de entrada
        $("#seccionEntrada").hide();

        // Ocultar el botón de "Guardar Cambios"
        $("#btnGuardarCambios").hide();

        // Mostrar el botón de "Agregar Alumno"
        $("#btnAgregar").show();
    };

    window.agregarAlumno = function () {
        // Mostrar la sección de entrada
        $("#seccionEntrada").show();

     

        // Ocultar el botón de "Agregar Alumno"
        $("#btnAgregar").show();


        // Limpiar los valores del formulario
        $("#codiAlum, #appaAlum, #apmaAlum, #nombAlum").val('');
    };


    // Manejar el clic en el botón "Guardar" en la sección de entrada
    $("#btnAgregar").off("click").on("click", function () {
        // Obtener valores del formulario
        let codiAlum = $("#codiAlum").val();
        let appaAlum = $("#appaAlum").val();
        let apmaAlum = $("#apmaAlum").val();
        let nombAlum = $("#nombAlum").val();

        // Validar que todos los campos estén completados
        if (!codiAlum || !appaAlum || !apmaAlum || !nombAlum) {
            alert("Por favor, complete todos los campos antes de guardar.");
            return;
        }

        // Realizar solicitud AJAX para agregar un nuevo alumno
        $.ajax({
            type: 'POST',
            url: 'alumnocrub?tipo=2',
            data: {
                codiAlum: codiAlum,
                appaAlum: appaAlum,
                apmaAlum: apmaAlum,
                nombAlum: nombAlum
            },
            success: function (data) {
                // Manejar la respuesta del servidor (puede incluir un mensaje de éxito)
                console.log(data);
                alert("Alumno Agregado Correctamente");

                // Borrar los valores de los campos de entrada
                $("#codiAlum, #appaAlum, #apmaAlum, #nombAlum").val('');

                // Recargar los datos en el DataTable
                dataTable.ajax.reload();

                // Ocultar la sección de entrada después de agregar
                $("#seccionEntrada").hide();
            },
            error: function (error) {
                console.error(error);
                alert("Error al Agregar Alumno: " + error.responseText);
            }
        });
    });
});